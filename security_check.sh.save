#!/bin/bash

echo "üîê Ubuntu Minimal Security Audit"
echo "--------------------------------"

echo -n "Auto-login: "
if grep -q "AutomaticLoginEnable=true" /etc/gdm3/custom.conf; then
    echo "‚ùå ENABLED (not secure)"
else
    echo "‚úÖ Disable"
fi

echo -n "UFW Firewall: "
sudo ufw status | grep -q "Status: active" && echo "‚úÖ Active" || echo "‚ùå Inactive"

echo -n "Screen Lock (idle): "
gsettings get org.gnome.desktop.screensaver lock-enabled | grep -q true && echo "‚úÖ Enabled" || echo "‚ùå Disabled"

echo "Checking for updates..."
sudo apt list --upgradable 2>/dev/null | grep -q "upgradable" && echo "‚ùå Updates available" || echo "‚úÖ System is up to date"

echo -n "Sudo Users: "
getent group sudo | cut -d: -f4

echo -n "GNOME Keyring status: "
[ -f ~/.local/share/keyrings/login.keyring ] && echo "‚úÖ Found" || echo "‚ùå Not Found"

echo -n "Disk Encryption: "
lsblk -o NAME,TYPE | grep -q "crypt" && echo "‚úÖ Encrypted" || echo "‚ùå Not Encrypted"

echo "---------
